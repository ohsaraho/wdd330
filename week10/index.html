<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Week 10 Notes</title>
    <meta name="description" content="Week 9 Notes on the readings">
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa&family=Rubik&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/styles.css">
    <script defer src="../js/copyright.js"></script>

</head>
<body class="week3">
    <main>
        <h1>Week 10</h1>
        <h2>Notes</h2>
        <h3><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation" rel="noreferrer" target="_blank">MDN: Client-side form validation</a></h3>
        <ul>
            <li>Before you submit data to the server, it is important to make sure that all required form controls are filled out in the correct format. This is called <strong>client-side form validation</strong>, which helps make sure data submitted matches the requirements set forth in the various form contorls.</li>
            <li>Client-side validation is an initial check and important for good user experience; having the the invalid data be caught on the client-side, is much quicker and a straight fix since they can fix it straight away.<br>If it is checked on the server side and is rejected, there is a delay that is noticeable to the user because it has to go through the server side and then back to the client-side to tell the user to fix their data.</li>
            <li>Although, client-side validation takes less time to fix it should not be considered a full-scale security measure.<br>The apps that you create should always perform security checks on any form-submitted data, not just on the server-side but the client-side as well, this is because client-side validation is too easy to bypass, malicious users can still easily send bad data through to your server.</li>
            <li><strong>Form validation</strong> is when you enter data and the browser and/or the web server will check to see if the data is in the correct format specified and within the constraints set by the application.<br>Validation that is done in the browser is called <strong>client-side</strong> validation and validation done on the erver is called <strong>server-side</strong> validation.</li>
            <li>If the information is correctly formatted in the form, the application allows the data to be submitted to the server and can (usually) saved in a database; if the information isn't correctly formatted, it gives the user an error message, explaining what needs to be fixed and lets the user try again.</li>
            <li>Three main reasons to validate forms:<br><br><strong>You want to make sure you get the right data, in the right format.</strong> The applications won't work properly if our user's data is stored in the wrong format, or incorrect or even is omitted altogether.<br><br><strong>You want to protect your user's data.</strong> Making your users to enter secure passwords makes it easier to protect their account information.<br><br><strong>You want to protect yourselve.</strong> There are many wasys that malicious users could misuse unprotected forms to damage the application.<br><br><strong>Warning:</strong>Never trust data that is passed to your server from the client. Even if your form is validating correctly and preventing malformed input on the client-side, a malicious user could still alter the network request.</li>
            <li><strong>Built-in form validation</strong> (HTML5 form validation features) which doesn't require a lot of JavaScript and has better performance than JavaScript.<br><strong>required</strong>: Specifies whether a form field needs to be filled out before the form can be submitted.<br><strong>minlength and maxlength</strong>: Specifies the minimum and maximum length of textual data, meaning strings.<br><strong>min and max</strong>: Specifies the minimum and maximum values of numerical input types.<br><strong>type</strong>: Specifies whether the data needs to be number, an email address, telephone, or some other specific preset type. <br><strong>pattern</strong>: Specifies a <strong>regular expression</strong> that defines a pattern the entered data needs to follow.</li>
            <li>If the data entered is valid, the following things are true:<br><br>The element matches the <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:valid" rel="noreferrer" target="_blank">:valid</a> CSS pseudo-class, which lets you apply a certain style to valid elements.<br><br>If the user tries to send the data, the browser will then submit the form, as long as there is nothing else stopping it from sending it (e.g., JavaScript).<br><br>If the data entered is invalid, the following things are true:<br><br>The element matches the <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:invalid" rel="noreferrer" target="_blank">:invalid</a> CSS pseudo-class, and sometimes other UI pseudo-classes like <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/CSS/:out-of-range" rel="noreferrer" target="_blank">:out-of-range</a> depending on the error, which lets you apply a certain style to invalid elements.<br><br>If the user tries to send the data, the browser will then block the form from sending and display an error message.<br><br>There are several errors  that will prevent the form from being submited, shown in <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation" rel="noreferrer" target="_blank">Form Validation</a><br><br><br></li>
            <li>You have to use JavaScript if you want to take control over the look and feel of native error messages or when dealing with legacy browsers that do not support HTML's built-in form validation.</li>
            <li>Most browsers do support the <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/Constraint_validation" rel="noreferrer" target="_blank">Constraint Validation API</a>, which consists of a set of methods and properties available on the following form element DOM interfaces: <br><br><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLButtonElement" rel="noreferrer" target="_blank">HTMLButtonElement</a> (represents a <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button" rel="noreferrer" target="_blank">&lt;button&gt;</a> element)<br><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFieldSetElement" rel="noreferrer" target="_blank">HTMLFieldSetElement</a> (represents a <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/fieldset" rel="noreferrer" target="_blank">&lt;fieldset&gt;</a> element)<br><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement" rel="noreferrer" target="_blank">HTMLInputElement</a> (represents a <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input" rel="noreferrer" target="_blank">&lt;input&gt;</a> element)<br><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLOutputElement" rel="noreferrer" target="_blank">HTMLOutputElement</a> (represents a <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/output" rel="noreferrer" target="_blank">&lt;output&gt;</a> element)<br><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement" rel="noreferrer" target="_blank">HTMLSelectElement</a> (represents a <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select" rel="noreferrer" target="_blank">&lt;select&gt;</a> element)<br><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLTextAreaElement" rel="noreferrer" target="_blank">HTMLTextAreaElement</a> (represents a <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/textarea" rel="noreferrer" target="_blank">&lt;textarea&gt;</a> element)<br><br></li>
            <li>The Constraint validation API makes the properties below, available on the above elements.</li>
            <li><strong>validationMessage</strong>: Returns a localized message describing the validation contstraints that the control doesn't satisfy (if there is any). If the control is not a candidate for constraint validation (<strong>willValidate</strong> is <strong>false</strong>) or the element's value satisfies its constraints it would be (is valid), this will return an empty string.</li>
            <li><strong>validity</strong>: Returns a <strong><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/ValidityState" rel="noreferrer" target="_blank">ValidityState</a></strong> object which contains several properties describing the validity state of the element. Below are just a few commons available properties for ValidityState:<br><br><strong>patternMismatch</strong>: Returns <strong>true</strong> if the value doesn't match the specified pattern, and <strong>false</strong> if it does match the pattern. If true, the element matches the <strong>:invalid</strong> CSS pseudo-class.<br><br><strong>tooLong</strong>: Returns <strong>true</strong> if the value is longer than the maximum length that was specified by the <strong>maxlength</strong> attribute, or <strong>false</strong> if it is shorter than or equal to the maximum. If true, then the element matches the <strong>:invalid</strong> CSS pseudo-class.<br><br><strong>tooShort</strong>: Returns <strong>true</strong> if the vale is shorter than the minimum length that was specified by the minlength attribute, or <strong>false</strong> if it is greater than or equal to the minimum. If true, then the element matches the <strong>:invalid</strong> CSS pseudo-class.<br><br><strong>rangeOverflow</strong>: Returns <strong>true</strong> if the value is greater than the maximum that was specified by the <strong>max</strong> attribute, or <strong>false</strong> if it is less than or equal to the maximum. If true, the element matches the <strong>:invalid</strong> and <strong>:out-of-range</strong> CSS pseudo-classes<br><br><strong>rangeUnderflow</strong> Returns <strong>true</strong> if the value is less than the minimum that was specified by the <strong>min</strong> attribute, or <strong>false</strong> if it is greater than or equal to the minimum. If true, then the element matches the <strong>:invalid</strong> and <strong>:out-of-range</strong> CSS pseudo-classes.<br><br><strong>typeMismatch</strong>: Returns <strong>true</strong> if the value is not in the required syntax (when <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-type" rel="noreferrer" target="_blank">type</a> is either <strong>email</strong> or <strong>url</strong>), or <strong>false</strong> if syntax is correct. If <strong>true</strong>, then the element matches the <strong>:invalid</strong> CSS pseudo-class.<br><br><strong>valid</strong>: Returns <strong>true</strong> if the element meets all its validation constraints, and so then it would be considered to be valid, or <strong>false</strong> if it fails any constraint. If true, then the element matches the <strong>:valid</strong> CSS pseudo-class; if false, then it's the <strong>:invalid</strong> CSS pseudo-class.<br><br><strong>valueMissing</strong>: Returns <strong>true</strong> if the element has a <strong>required</strong> attribute, but no value, or false if the opposite. If true, then the element matches the :invalid CSS pseudo-class.<br><br><strong>willValidate</strong>: Returns <strong>true</strong> if the element will be validated when the form is submitted; <strong>false</strong> if not.<br><br><br></li>
            <li>The Constraint Validation API also makes the following methods available on the elements that are above and the form element as well.<br><br><strong>checkValidity()</strong>: Returns <strong>true</strong> if the element's value has a no validity problems; <strong>false</strong> if it does. If the element is invalid, then this method also fires an <strong>invalid_event</strong> on the element.<br><br><strong>reportValidity()</strong>: Reports invalid field/fields using events. This is useful in combination with <strong>preventDefault()</strong> in an <strong>onSubmit</strong> event handler.<br><br><strong>setCustomValidity(message)</strong>: Adds a custom error message to the element; if you set a custom error message, the element is considered to be invalid, and the specified error will be displayed. This lets you use JavaScript code to establish validation failure besides the other ones offered by the standard HTML5 validation constraints. The message is shown/displayed to the user when reporting the problem.<br><br></li>
            <li>Creating a customize error message instead of the automated message that look different with other browsers.<br><br>The automated messages have two drawbacks: <br><br>There is no standard way to change the look and feel of them in CSS.<br>They depend on the browser locale, which means that you can have a page in one language but an error message displayed in a different language, like when in Firefox.</li>
            <li>Customizing these error messages is one of the most common use of the <strong>constraint validation API</strong>. Below is a simple example of the HTML code and JavaScript to create a customized form message: <br><br>Simple HTML:<br><img src="images/custom_messageHTML.JPG" alt="Simple HTML for custom form message"><br><br>JavaScript:<br><img src="images/custom_messageJS.JPG" alt="JavaScript for custom form message"><br><br>Here it stores a reference to the email input, then add an event listener to it that runs the contained code each time the value inside the input is changed.<br>Inside the contained code, we check whether the email input's <strong>validity.typeMismatch</strong> property returns <strong>true</strong>, which means that the contained value doesn't match the pattern for a proper email address. If so, it calls the <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setCustomValidity" rel="noreferrer" target="_blank">setCustomValidity()</a> method with a custom message which is displayed by calling <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/reportValidity" rel="noreferrer" target="_blank">reportValidity()</a>. It renders the input invalid, so that when you try to submit the form, submission fails and the custom error message is displayed.<br>If the <strong>validity.typeMismatch</strong> property returns <strong>false</strong>, we call the <strong>setCustomValidity()</strong> method an empty string which renders the input valid, so the form will submit.</li>
        </ul>
        <h3><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch" rel="noreferrer" target="_blank">MDN: Using the Fetch API</a></h3>
        <ul>
            <li>The <strong>fetch()</strong> method can accept an optional second parameter, an <strong>init</strong> object which allows you to control a number of different settings: <br><br><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options" rel="noreferrer" target="_blank"><img src="images/init_code_example.JPG" alt="Init object parameter for fetch, code example"></a><br><br>Note that mode: "no-cores" allows only a limited set of headers in the request: <br><br><strong>Accept</strong><br><strong>Accept-Language</strong><br><strong>Content-Language</strong><br><strong>Content-Type</strong> with a value of application/x-www-form-urlencoded, multipart/form-data, or text/plain</li>
            <li>To have browsers send a request with credentials included on both same-origin and cross-origin calls,add <strong>credentials: 'include'</strong> to the <strong> init object you pass to the <strong>fetch()</strong> method, for example:</strong><br><br>fetch('https://example.com', {<br>
                credentials: 'include'<br>
              });<br><br> Note: "Access-Control-Allow-Origin" is prohibited from using a wildcard for requests with <strong>credentials: 'include'</strong>. In this case, the exact origin must be provided; even if you are using <strong>CORS</strong> unblocker extension, the request will still fail.<br>Note: Browsers should not send credentials in preflight requests irrespective of this setting. If you want more information see: <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#requests_with_credentials" rel="noreferrer" target="_blank">CORS > Requests with credentials</a>.
              </li>
            <li>If you want to send credentials only if the requested URL is on the same origin as the calling script, add <strong>credentials: 'same-origin'.</strong><br><br>// The calling script is on the origin 'https://example.com'<br><br>fetch('https://example.com', {<br>
                  credentials: 'same-origin'<br>
                });<br>
                </li>
            <li>To make sure that browsers don't include credentials in the request, use <strong>credentials: 'omit'</strong>.<br><br>fetch('https://example.com', {<br>
                credentials: 'omit'<br>
              })<br>
              </li>
            <li>You use <strong>fetch()</strong> to POST JSON-encoded data.<br><br><a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#uploading_json_data" rel="noreferrer" target="_blank"><img src="images/post_JSON_data_code_example.JPG" alt="Uploading JSON data with fetch()"></a></li>
            <li>Files can be uploaded using an HTML &lt;input type="file"/&gt; input element, FormData() and fetch(). <a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#uploading_a_file" rel="noreferrer" target="_blank"><img src="images/upload_file_fetch_code_example.JPG" alt="Uploading a file with FormData() and fetch()"></a></li>
            <li>Files can be uploaded using an HTML &lt;input type="file" multiple/&gt; input element, FormData() and fetch().<a class="exercise_anchor" href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#uploading_multiple_files" rel="noreferrer" target="_blank"><img src="images/upload_multiple_files_fetch_code_example.JPG" alt=""></a></li>
        </ul>
        <h2>Questions:</h2>
        <ul>
            <li>When would it be best to use <strong>novalidate</strong> attribute instead of leave it off when building custom validations for forms?</li>
        </ul>
        <h2>Exercises</h2>
        <ul>
            <li><a class="exercise_anchor" href="codeExercise/formsValidation/clientSide.html">Client Side</a></li>
            <li><a class="exercise_anchor" href="codeExercise/formsValidation/clientSideCustomMessage.html">Client Side Custom Message</a></li>
        </ul>
        <h2>Team Activity</h2>
        <ul>
            <li><a class="exercise_anchor" href="codeExercise/quakes/quakes.html">Quakes near me</a></li>
        </ul>
    </main>
    <footer>
        &copy; <span id="copyrightyear"></span> | Sarah Osguthorpe | Utah | <a href="https://www.byui.edu/online" target="_blank">BYUI Online Learning</a>
        <!-- <div class="note_footer_div">
            <p>&copy; <span id="copyrightyear"></span> Sarah Osguthorpe | Utah | <a class="footer_anchor" href="https://www.byui.edu/online" target="_blank">BYUI Online Learning</a></p>
        </div> -->
    </footer>
</body>
</html>